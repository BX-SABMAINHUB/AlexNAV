<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AlexBrowser Ultimate | Pro Edition</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/all.min.css">
    <style>
        /* ==========================================
         * N√öCLEO CSS - UI ENGINE ULTIMATE v10
         * ========================================== */

        :root {
            /* PALETA DE COLORES NEON Y CRISTAL */
            --bg-app: #050505;
            --bg-panel: rgba(20, 20, 25, 0.75);
            --bg-input: rgba(30, 30, 35, 0.6);
            --accent: #00e5ff; /* Cyan brillante */
            --accent-glow: rgba(0, 229, 255, 0.5);
            --accent-secondary: #bd00ff; /* P√∫rpura */
            --text-main: #f8fafc;
            --text-muted: #94a3b8;
            --border: rgba(255, 255, 255, 0.1);
            --danger: #ff0055;
            --success: #00ff88;
            
            --anim-speed: 0.3s;
        }

        * { box-sizing: border-box; user-select: none; outline: none; }
        
        body {
            margin: 0; padding: 0;
            /* Fondo animado oscuro */
            background: linear-gradient(-45deg, #050505, #111, #1a1025, #0a192f);
            background-size: 400% 400%;
            animation: gradientBG 15s ease infinite;
            color: var(--text-main);
            font-family: 'Segoe UI', system-ui, sans-serif;
            height: 100vh; overflow: hidden;
            display: flex; flex-direction: column;
        }

        @keyframes gradientBG {
            0% { background-position: 0% 50%; }
            50% { background-position: 100% 50%; }
            100% { background-position: 0% 50%; }
        }

        /* SCROLLBAR INVISIBLE/ELEGANTE */
        ::-webkit-scrollbar { width: 6px; height: 6px; }
        ::-webkit-scrollbar-track { background: transparent; }
        ::-webkit-scrollbar-thumb { background: var(--border); border-radius: 10px; }
        ::-webkit-scrollbar-thumb:hover { background: var(--accent); }

        /* --- ZONA SUPERIOR (HEADER Y PESTA√ëAS) --- */
        .browser-chrome {
            background: var(--bg-panel);
            backdrop-filter: blur(20px);
            -webkit-backdrop-filter: blur(20px);
            border-bottom: 1px solid var(--border);
            display: flex; flex-direction: column;
            box-shadow: 0 5px 25px rgba(0,0,0,0.8);
            z-index: 100;
        }

        .tabs-bar {
            height: 45px;
            display: flex; align-items: flex-end;
            padding: 0 10px; gap: 8px;
            background: rgba(0,0,0,0.5);
            overflow-x: auto;
        }
        
        .tab {
            background: rgba(255, 255, 255, 0.05);
            color: var(--text-muted);
            padding: 12px 20px;
            border-radius: 14px 14px 0 0;
            font-size: 13px; font-weight: 500;
            display: flex; align-items: center; gap: 10px;
            cursor: pointer;
            transition: all var(--anim-speed);
            max-width: 220px; min-width: 140px;
            position: relative;
        }
        
        .tab:hover { background: rgba(255, 255, 255, 0.1); color: var(--text-main); }
        .tab.active {
            background: var(--bg-panel);
            color: var(--text-main);
            border-top: 2px solid var(--accent);
            box-shadow: 0 -5px 15px rgba(0, 229, 255, 0.15);
            font-weight: bold; z-index: 2;
        }

        .tab-close {
            margin-left: auto; width: 20px; height: 20px;
            border-radius: 50%; display: flex; align-items: center; justify-content: center;
            transition: 0.2s; font-size: 14px;
        }
        .tab-close:hover { background: var(--danger); color: white; box-shadow: 0 0 10px var(--danger); }
        
        .new-tab-btn {
            padding: 10px; color: var(--text-muted); cursor: pointer; transition: 0.3s;
            border-radius: 10px; margin-bottom: 2px;
        }
        .new-tab-btn:hover { color: var(--accent); background: rgba(255,255,255,0.1); }

        /* --- BARRA DE NAVEGACI√ìN --- */
        .nav-toolbar {
            height: 60px;
            display: flex; align-items: center;
            padding: 0 15px; gap: 12px;
        }

        .nav-controls { display: flex; gap: 5px; }
        .icon-btn {
            width: 38px; height: 38px; border-radius: 10px;
            background: transparent; border: 1px solid transparent;
            color: var(--text-main); cursor: pointer;
            display: flex; align-items: center; justify-content: center;
            font-size: 16px; transition: 0.2s;
        }
        .icon-btn:hover { background: rgba(255,255,255,0.1); color: var(--accent); transform: translateY(-2px); }
        .icon-btn:active { transform: scale(0.9); }
        .icon-btn.disabled { opacity: 0.3; pointer-events: none; }

        /* OMNIBOX (Barra de URL) */
        .omnibox-container { flex: 1; position: relative; display: flex; align-items: center; }
        .omnibox {
            width: 100%; height: 42px;
            background: var(--bg-input);
            border: 1px solid var(--border);
            border-radius: 21px;
            padding: 0 50px 0 45px;
            color: var(--text-main);
            font-family: 'Segoe UI', sans-serif; font-size: 14px;
            transition: 0.3s; box-shadow: inset 0 2px 5px rgba(0,0,0,0.5);
        }
        .omnibox:focus {
            border-color: var(--accent); background: rgba(0,0,0,0.8);
            box-shadow: 0 0 20px var(--accent-glow);
        }
        
        .site-info-icon { position: absolute; left: 15px; color: var(--success); font-size: 14px; }
        .search-action-icon { position: absolute; right: 15px; color: var(--accent); cursor: pointer; transition: 0.2s; }
        .search-action-icon:hover { transform: scale(1.2); text-shadow: 0 0 10px var(--accent); }

        /* --- VIEWPORT (√Årea de visualizaci√≥n) --- */
        .viewport-container { flex: 1; position: relative; background: #fff; }
        iframe.browser-view { width: 100%; height: 100%; border: none; display: none; background: white; }
        iframe.browser-view.active { display: block; animation: fadeIn 0.3s; }

        @keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }

        /* --- START PAGE (Pantalla de Inicio) --- */
        .alex-start-page {
            position: absolute; inset: 0;
            background: radial-gradient(circle at center, rgba(30,30,40,0.9), #000);
            display: none; flex-direction: column; align-items: center; justify-content: center;
            z-index: 50;
        }
        .alex-start-page.active { display: flex; }
        
        .start-logo {
            font-size: 5.5rem; font-weight: 900;
            background: linear-gradient(to right, #00e5ff, #bd00ff, #ff0055);
            -webkit-background-clip: text; color: transparent;
            margin-bottom: 40px; letter-spacing: -2px;
            filter: drop-shadow(0 0 15px rgba(189, 0, 255, 0.4));
        }

        .start-search {
            width: 650px; max-width: 90%; height: 65px;
            background: rgba(255,255,255,0.05); border: 1px solid rgba(255,255,255,0.1);
            border-radius: 35px; padding: 0 35px; color: white; font-size: 18px;
            backdrop-filter: blur(10px); transition: 0.3s;
        }
        .start-search:focus { background: rgba(0,0,0,0.8); border-color: var(--accent); transform: scale(1.02); }
        
        .quick-links { display: flex; gap: 20px; margin-top: 50px; }
        .q-link {
            width: 90px; height: 90px; background: rgba(255,255,255,0.03);
            border: 1px solid rgba(255,255,255,0.05); border-radius: 20px;
            display: flex; flex-direction: column; align-items: center; justify-content: center;
            cursor: pointer; transition: 0.3s; color: var(--text-muted); backdrop-filter: blur(5px);
        }
        .q-link:hover { background: rgba(255,255,255,0.1); color: white; transform: translateY(-8px); border-color: var(--accent); }
        .q-icon { font-size: 30px; margin-bottom: 10px; }
        .q-text { font-size: 12px; font-weight: bold; }

        /* --- PANELES LATERALES --- */
        .overlay-panel {
            position: fixed; top: 105px; right: 0; bottom: 0; width: 400px;
            background: rgba(15, 15, 20, 0.9); backdrop-filter: blur(25px);
            border-left: 1px solid var(--border);
            transform: translateX(100%); transition: transform 0.4s cubic-bezier(0.2, 0.8, 0.2, 1);
            z-index: 200; display: flex; flex-direction: column;
            box-shadow: -10px 0 30px rgba(0,0,0,0.8);
        }
        .overlay-panel.open { transform: translateX(0); }
        
        .panel-header {
            padding: 25px; border-bottom: 1px solid var(--border);
            display: flex; justify-content: space-between; align-items: center; background: rgba(0,0,0,0.3);
        }
        .panel-header h3 { margin: 0; font-size: 18px; display: flex; align-items: center; gap: 10px; }
        .panel-content { flex: 1; overflow-y: auto; padding: 25px; }

        /* Cuadr√≠cula de men√∫ de opciones */
        .menu-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 15px; margin-bottom: 30px; }
        .menu-btn {
            background: rgba(255,255,255,0.05); border: 1px solid rgba(255,255,255,0.1);
            padding: 15px; border-radius: 12px; color: white; cursor: pointer;
            display: flex; flex-direction: column; align-items: center; gap: 10px; transition: 0.2s;
        }
        .menu-btn:hover { background: rgba(0, 229, 255, 0.1); border-color: var(--accent); color: var(--accent); transform: translateY(-3px); }
        .menu-btn i { font-size: 22px; }

        .setting-item {
            display: flex; justify-content: space-between; align-items: center;
            padding: 15px 0; border-bottom: 1px solid rgba(255,255,255,0.05);
        }
        .toggle-switch {
            width: 44px; height: 24px; background: rgba(255,255,255,0.1);
            border-radius: 12px; position: relative; cursor: pointer; transition: 0.3s;
        }
        .toggle-switch::after {
            content: ''; position: absolute; left: 3px; top: 3px;
            width: 18px; height: 18px; background: white; border-radius: 50%; transition: 0.3s;
        }
        .toggle-switch.active { background: var(--success); box-shadow: 0 0 10px rgba(0, 255, 136, 0.4); }
        .toggle-switch.active::after { left: 23px; }

        .history-item {
            padding: 15px; border-radius: 12px; margin-bottom: 10px;
            background: rgba(255,255,255,0.03); border: 1px solid rgba(255,255,255,0.05);
            cursor: pointer; display: flex; align-items: center; gap: 15px; transition: 0.2s;
        }
        .history-item:hover { background: rgba(255,255,255,0.1); border-color: var(--accent); }
        .h-time { font-size: 11px; color: var(--accent); background: rgba(0,229,255,0.1); padding: 4px 8px; border-radius: 6px; }

        .toast {
            position: fixed; bottom: 40px; left: 50%; transform: translateX(-50%) translateY(150px);
            background: linear-gradient(135deg, var(--accent-secondary), var(--accent)); color: white;
            padding: 15px 30px; border-radius: 30px; box-shadow: 0 10px 30px rgba(0,0,0,0.5);
            transition: 0.4s cubic-bezier(0.68, -0.55, 0.265, 1.55); opacity: 0; font-weight: bold; z-index: 1000;
        }
        .toast.show { transform: translateX(-50%) translateY(0); opacity: 1; }

    </style>
</head>
<body>

    <div class="browser-chrome">
        <div class="tabs-bar" id="tabs-container"></div>

        <div class="nav-toolbar">
            <div class="nav-controls">
                <button class="icon-btn" id="btn-back" onclick="browser.goBack()" title="Atr√°s"><i class="fas fa-arrow-left"></i></button>
                <button class="icon-btn" id="btn-forward" onclick="browser.goForward()" title="Adelante"><i class="fas fa-arrow-right"></i></button>
                <button class="icon-btn" onclick="browser.reload()" title="Refrescar"><i class="fas fa-rotate-right"></i></button>
                <button class="icon-btn" onclick="browser.goHome()" title="Inicio"><i class="fas fa-house"></i></button>
            </div>

            <div class="omnibox-container">
                <i class="fas fa-shield-halved site-info-icon" title="Protecci√≥n Activa"></i>
                <input type="text" class="omnibox" id="url-input" placeholder="Busca en Google (Web, Im√°genes, Videos...) o escribe una URL">
                <i class="fas fa-magnifying-glass search-action-icon" onclick="browser.navigate()"></i>
            </div>

            <div class="nav-controls">
                <button class="icon-btn" onclick="ui.showToast('P√°gina a√±adida a favoritos ‚≠ê')"><i class="fas fa-star"></i></button>
                <button class="icon-btn" onclick="ui.togglePanel('history')" title="Historial"><i class="fas fa-clock-rotate-left"></i></button>
                <button class="icon-btn" onclick="ui.togglePanel('menu')" title="Men√∫ Principal"><i class="fas fa-bars-staggered"></i></button>
            </div>
        </div>
    </div>

    <div class="viewport-container" id="viewport">
        <div class="alex-start-page active" id="start-page">
            <div class="start-logo">AlexBrowser</div>
            <input type="text" class="start-search" placeholder="¬øQu√© quieres buscar hoy en la web?" onkeypress="if(event.key==='Enter') browser.navigate(this.value)">
            
            <div class="quick-links">
                <a class="q-link" onclick="browser.navigate('wikipedia')">
                    <i class="fab fa-wikipedia-w q-icon"></i><span class="q-text">WIKI</span>
                </a>
                <a class="q-link" onclick="browser.navigate('youtube')">
                    <i class="fab fa-youtube q-icon" style="color:#ff0055"></i><span class="q-text">VIDEOS</span>
                </a>
                <a class="q-link" onclick="browser.navigate('google maps')">
                    <i class="fas fa-map-location-dot q-icon" style="color:var(--success)"></i><span class="q-text">MAPAS</span>
                </a>
                <a class="q-link" onclick="browser.navigate('noticias de hoy')">
                    <i class="fas fa-newspaper q-icon" style="color:var(--accent)"></i><span class="q-text">NOTICIAS</span>
                </a>
            </div>
        </div>
    </div>

    <div class="overlay-panel" id="panel-menu">
        <div class="panel-header">
            <h3><i class="fas fa-sliders"></i> Opciones Pro</h3>
            <button class="icon-btn" onclick="ui.closePanels()"><i class="fas fa-times"></i></button>
        </div>
        <div class="panel-content">
            <div class="menu-grid">
                <div class="menu-btn" onclick="ui.togglePanel('history')">
                    <i class="fas fa-history"></i><span>Historial</span>
                </div>
                <div class="menu-btn" onclick="ui.showToast('Abriendo descargas...')">
                    <i class="fas fa-download"></i><span>Descargas</span>
                </div>
                <div class="menu-btn" onclick="ui.showToast('Modo Inc√≥gnito Activado üïµÔ∏è')">
                    <i class="fas fa-mask"></i><span>Inc√≥gnito</span>
                </div>
                <div class="menu-btn" onclick="window.print()">
                    <i class="fas fa-print"></i><span>Imprimir</span>
                </div>
            </div>

            <h4 style="color:var(--accent); border-bottom: 1px solid var(--border); padding-bottom:10px;">Seguridad Anti-Bloqueos</h4>
            <div class="setting-item">
                <span>Escudo X-Frame (Evita errores)</span>
                <div class="toggle-switch active" onclick="this.classList.toggle('active')"></div>
            </div>
            <div class="setting-item">
                <span>Bloquear Rastreadores</span>
                <div class="toggle-switch active" onclick="this.classList.toggle('active')"></div>
            </div>

            <button style="width:100%; padding:15px; margin-top:30px; background:var(--danger); border:none; color:white; border-radius:12px; cursor:pointer; font-weight:bold; box-shadow: 0 5px 15px rgba(255,0,85,0.4);" onclick="dataManager.clearAll()">
                <i class="fas fa-trash-can"></i> LIMPIAR NAVEGACI√ìN
            </button>
        </div>
    </div>

    <div class="overlay-panel" id="panel-history">
        <div class="panel-header">
            <h3><i class="fas fa-clock-rotate-left"></i> Historial</h3>
            <button class="icon-btn" onclick="ui.closePanels()"><i class="fas fa-times"></i></button>
        </div>
        <div class="panel-content" id="history-list"></div>
    </div>

    <div class="toast" id="toast">Acci√≥n completada</div>

<script>
    // --- GESTOR DE DATOS ---
    const dataManager = {
        saveHistory: (url, title) => {
            if(!url || url === 'about:start') return;
            let history = JSON.parse(localStorage.getItem('ab_history') || '[]');
            history.unshift({ url, title, time: new Date().toLocaleTimeString() });
            if(history.length > 50) history.pop();
            localStorage.setItem('ab_history', JSON.stringify(history));
            ui.renderHistory();
        },
        getHistory: () => JSON.parse(localStorage.getItem('ab_history') || '[]'),
        clearAll: () => {
            localStorage.clear();
            ui.showToast("Datos borrados. Reiniciando...");
            setTimeout(() => location.reload(), 1500);
        }
    };

    // --- MOTOR DE NAVEGACI√ìN (CON HISTORIAL POR PESTA√ëA Y ANTI-BLOQUEO) ---
    class BrowserEngine {
        constructor() {
            this.tabs = [];
            this.activeTabId = null;
            this.idCounter = 0;
            this.homeUrl = 'about:start';
            
            // Lista de sitios web conflictivos que muestran el error de la imagen
            this.blockedDomains = ['youtube.com', 'youtu.be', 'facebook.com', 'twitter.com', 'instagram.com', 'github.com', 'reddit.com', 'x.com'];
        }

        init() {
            this.newTab();
            document.getElementById('url-input').addEventListener('keypress', (e) => {
                if(e.key === 'Enter') this.navigate();
            });
            ui.renderHistory();
        }

        newTab(url = this.homeUrl) {
            this.idCounter++;
            const tabId = this.idCounter;
            
            this.tabs.push({
                id: tabId,
                title: 'Nueva Pesta√±a',
                url: url,
                history: [url], // Guarda la ruta para volver atr√°s
                historyIndex: 0
            });

            const iframe = document.createElement('iframe');
            iframe.className = 'browser-view';
            iframe.id = `view-${tabId}`;
            iframe.setAttribute('allowfullscreen', 'true');
            iframe.setAttribute('allow', 'camera; microphone; geolocation;');
            document.getElementById('viewport').appendChild(iframe);

            this.switchTab(tabId);
            if(url !== this.homeUrl) this.navigate(url);
        }

        closeTab(e, id) {
            e.stopPropagation(); 
            if(this.tabs.length === 1) return; 
            this.tabs = this.tabs.filter(t => t.id !== id);
            document.getElementById(`view-${id}`).remove();
            if(this.activeTabId === id) this.switchTab(this.tabs[this.tabs.length - 1].id);
            else this.renderTabs();
        }

        switchTab(id) {
            this.activeTabId = id;
            document.querySelectorAll('.browser-view').forEach(el => el.classList.remove('active'));
            document.getElementById('start-page').classList.remove('active');

            const currentTab = this.tabs.find(t => t.id === id);
            
            if(currentTab.url === 'about:start') {
                document.getElementById('start-page').classList.add('active');
                document.getElementById('url-input').value = "";
            } else {
                document.getElementById(`view-${id}`).classList.add('active');
                document.getElementById('url-input').value = currentTab.url;
            }

            this.renderTabs();
            this.updateNavButtons();
        }

        // EL CORAZ√ìN DE LA NAVEGACI√ìN: Previene el error de Youtube
        navigate(inputVal = null) {
            let query = inputVal || document.getElementById('url-input').value.trim();
            if(!query) return;

            const currentTab = this.tabs.find(t => t.id === this.activeTabId);
            let finalUrl = "";
            let title = "";
            
            const isUrl = query.includes('.') && !query.includes(' ');

            if(isUrl) {
                finalUrl = query.startsWith('http') ? query : 'https://' + query;
                title = query;
                
                // --- SISTEMA ANTI-BLOQUEO (Evita la cara triste gris) ---
                const isBlocked = this.blockedDomains.some(d => finalUrl.includes(d));
                
                if(finalUrl.includes('youtube.com/watch?v=')) {
                    // Transforma videos de youtube para que se puedan ver en iframe
                    finalUrl = finalUrl.replace('watch?v=', 'embed/');
                    ui.showToast("Reproductor seguro de YouTube activado");
                } 
                else if(isBlocked) {
                    // Si es una web problem√°tica, en vez de bloquearse, busca en Google
                    finalUrl = `https://www.google.com/search?igu=1&q=${encodeURIComponent(query)}`;
                    title = `B√∫squeda segura: ${query}`;
                    ui.showToast("Sitio protegido: Redirigiendo a b√∫squeda segura");
                }
            } else {
                // B√öSQUEDA EN GOOGLE DESBLOQUEADA (igu=1) -> Permite ver Im√°genes, Mapas, Videos
                finalUrl = `https://www.google.com/search?igu=1&q=${encodeURIComponent(query)}`;
                title = `üîç ${query}`;
            }

            // Actualizar historial interno de la pesta√±a
            currentTab.history = currentTab.history.slice(0, currentTab.historyIndex + 1);
            currentTab.history.push(finalUrl);
            currentTab.historyIndex++;
            
            this.loadUrlIntoFrame(finalUrl, title);
        }

        loadUrlIntoFrame(url, title) {
            const currentTab = this.tabs.find(t => t.id === this.activeTabId);
            currentTab.url = url;
            currentTab.title = title;

            document.getElementById('start-page').classList.remove('active');
            const frame = document.getElementById(`view-${this.activeTabId}`);
            frame.classList.add('active');
            frame.src = url;

            document.getElementById('url-input').value = url;
            this.renderTabs();
            this.updateNavButtons();
            dataManager.saveHistory(url, title);
        }

        // Historial real funcional
        goBack() {
            const tab = this.tabs.find(t => t.id === this.activeTabId);
            if(tab && tab.historyIndex > 0) {
                tab.historyIndex--;
                const prevUrl = tab.history[tab.historyIndex];
                if(prevUrl === 'about:start') this.switchTab(tab.id);
                else this.loadUrlIntoFrame(prevUrl, "Volviendo atr√°s...");
            }
        }

        goForward() {
            const tab = this.tabs.find(t => t.id === this.activeTabId);
            if(tab && tab.historyIndex < tab.history.length - 1) {
                tab.historyIndex++;
                this.loadUrlIntoFrame(tab.history[tab.historyIndex], "Avanzando...");
            }
        }

        reload() {
            const frame = document.getElementById(`view-${this.activeTabId}`);
            if(frame.src) frame.src = frame.src;
            ui.showToast("Actualizando p√°gina...");
        }

        goHome() {
            const tab = this.tabs.find(t => t.id === this.activeTabId);
            tab.history.push('about:start');
            tab.historyIndex++;
            tab.title = 'Inicio';
            this.switchTab(tab.id);
        }

        updateNavButtons() {
            const tab = this.tabs.find(t => t.id === this.activeTabId);
            document.getElementById('btn-back').classList.toggle('disabled', tab.historyIndex <= 0);
            document.getElementById('btn-forward').classList.toggle('disabled', tab.historyIndex >= tab.history.length - 1);
        }

        renderTabs() {
            const container = document.getElementById('tabs-container');
            container.innerHTML = ''; 

            this.tabs.forEach(tab => {
                const el = document.createElement('div');
                el.className = `tab ${tab.id === this.activeTabId ? 'active' : ''}`;
                el.onclick = () => this.switchTab(tab.id);
                
                let icon = tab.url.includes('google.com') ? '<i class="fab fa-google" style="color:var(--accent)"></i>' : '<i class="fas fa-globe"></i>';
                if(tab.url === 'about:start') icon = '<i class="fas fa-house"></i>';

                el.innerHTML = `
                    ${icon}
                    <span style="max-width:120px; overflow:hidden; white-space:nowrap; text-overflow:ellipsis;">${tab.title}</span>
                    <div class="tab-close" onclick="browser.closeTab(event, ${tab.id})">√ó</div>
                `;
                container.appendChild(el);
            });

            const newBtn = document.createElement('div');
            newBtn.className = 'new-tab-btn';
            newBtn.innerHTML = '<i class="fas fa-plus"></i>';
            newBtn.onclick = () => this.newTab();
            container.appendChild(newBtn);
        }
    }

    // --- INTERFAZ UI ---
    const ui = {
        togglePanel: (id) => {
            const panel = document.getElementById(`panel-${id}`);
            const isOpen = panel.classList.contains('open');
            ui.closePanels(); 
            if(!isOpen) panel.classList.add('open');
        },
        closePanels: () => document.querySelectorAll('.overlay-panel').forEach(p => p.classList.remove('open')),
        renderHistory: () => {
            const list = dataManager.getHistory();
            const container = document.getElementById('history-list');
            if(!list.length) return container.innerHTML = '<div style="text-align:center; color:#777; margin-top:30px;"><i class="fas fa-folder-open" style="font-size:40px; margin-bottom:15px; display:block;"></i>Vac√≠o</div>';
            
            container.innerHTML = list.map(item => `
                <div class="history-item" onclick="browser.navigate('${item.url}'); ui.closePanels()">
                    <i class="fas fa-link" style="color:var(--accent);"></i>
                    <div style="flex:1; overflow:hidden;">
                        <div style="font-size:13px; font-weight:bold; white-space:nowrap; text-overflow:ellipsis;">${item.title}</div>
                        <div style="font-size:11px; opacity:0.5; white-space:nowrap; text-overflow:ellipsis;">${item.url}</div>
                    </div>
                    <span class="h-time">${item.time}</span>
                </div>
            `).join('');
        },
        showToast: (msg) => {
            const t = document.getElementById('toast');
            t.innerText = msg;
            t.classList.add('show');
            setTimeout(() => t.classList.remove('show'), 3000);
        }
    };

    const browser = new BrowserEngine();
    window.onload = () => browser.init();

</script>
</body>
</html>
