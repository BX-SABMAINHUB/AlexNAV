<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <title>AlexNAV Quantum | Ultra</title>
    <style>
        :root { --main: #00d4ff; --bg: #030305; --surface: #0f0f13; }
        body, html { margin: 0; padding: 0; height: 100%; background: var(--bg); color: white; font-family: 'Inter', sans-serif; overflow: hidden; }

        /* HEADER PREMIUM */
        header { 
            height: 60px; background: rgba(0,0,0,0.9); backdrop-filter: blur(20px);
            display: flex; align-items: center; padding: 0 25px; border-bottom: 2px solid var(--main);
        }
        .omni-box { flex: 1; background: #1a1a1e; border: 1px solid #333; border-radius: 8px; padding: 10px; display: flex; }
        .omni-box input { flex: 1; background: transparent; border: none; color: white; outline: none; }

        /* SISTEMA DE BLOQUEO (LAZARUS STYLE) */
        #block-screen { 
            position: fixed; inset: 0; background: black; color: red; 
            display: none; flex-direction: column; align-items: center; justify-content: center; 
            z-index: 99999; font-family: monospace;
        }
    </style>
</head>
<body>

<div id="block-screen">
    <h1>ACCESO INVÁLIDO</h1>
    <p>ESTE ENLACE HA SIDO BLOQUEADO POR ADMINISTRACIÓN [LAZARUS]</p>
    <div id="countdown"></div>
</div>

<header>
    <div style="font-weight:900; color:var(--main); margin-right:20px;">ALEXNAV</div>
    <div class="omni-box">
        <input type="text" id="browser-in" placeholder="Escribe URL o Búsqueda..." onkeypress="if(event.key==='Enter') action()">
    </div>
</header>

<div id="viewport" style="height: calc(100vh - 60px);">
    <iframe id="viewer" style="width:100%; height:100%; border:none; display:none;"></iframe>
    <div id="home" style="height:100%; display:flex; align-items:center; justify-content:center; font-size:4rem; font-weight:800;">AlexNAV</div>
</div>

<script>
    const API_KEY = "AIzaSyA9kZ16BJn-yPEBF4nKcHRYesu1vAlErnI";
    const USER_ID = "USER_" + Math.floor(Math.random() * 9000); // ID único para vigilar

    async function action() {
        const input = document.getElementById('browser-in').value.trim();
        const viewer = document.getElementById('viewer');
        
        // 1. Verificar si el link está bloqueado (Simulación de Lazarus)
        if(input.includes("prohibido.com") || input.includes("no-permitido")) {
            mostrarBloqueo();
            return;
        }

        // 2. Reportar actividad a Vercel
        reportarActividad(input);

        if(input.includes('.') && !input.includes(' ')) {
            const url = input.startsWith('http') ? input : 'https://' + input;
            viewer.src = url;
            viewer.style.display = "block";
            document.getElementById('home').style.display = "none";
        } else {
            // Búsqueda inteligente
            window.open(`https://www.google.com/search?q=${encodeURIComponent(input)}`, "_self");
        }
    }

    function mostrarBloqueo() {
        document.getElementById('block-screen').style.display = "flex";
    }

    // VIGILANCIA: Envía lo que hace el usuario a tu base de datos
    async function reportarActividad(data) {
        console.log("Reportando a Panel de Vigilancia:", data);
        // Aquí conectamos con tu API de Vercel
        // fetch('https://tu-vigilancia.vercel.app/api/report', { method:'POST', body: JSON.stringify({id: USER_ID, data: data}) });
    }
</script>
</body>
</html>
