<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <title>AlexNAV | Ultimate Search</title>
    <style>
        :root { --main: #00d4ff; --bg: #050507; --glass: rgba(255,255,255,0.03); --border: rgba(255,255,255,0.1); }
        body, html { margin: 0; padding: 0; height: 100%; background: var(--bg); color: white; font-family: 'Inter', sans-serif; overflow: hidden; }

        /* HEADER ESTILO STARTPAGE */
        header { 
            height: 70px; background: rgba(5,5,7,0.9); backdrop-filter: blur(20px);
            display: flex; align-items: center; padding: 0 30px; border-bottom: 1px solid var(--border); z-index: 1000;
        }
        #logo { font-size: 1.5rem; font-weight: 800; color: var(--main); cursor: pointer; letter-spacing: -1px; margin-right: 40px; }
        
        .search-wrap { flex: 1; max-width: 700px; display: flex; align-items: center; background: var(--glass); border: 1px solid var(--border); border-radius: 12px; padding: 8px 15px; }
        .search-wrap input { flex: 1; background: transparent; border: none; color: white; outline: none; font-size: 1rem; }
        
        .nav-tools { display: flex; gap: 15px; margin-left: 25px; }
        .t-btn { background: transparent; border: none; color: #888; font-size: 1.2rem; cursor: pointer; transition: 0.3s; }
        .t-btn:hover { color: var(--main); transform: translateY(-2px); }

        /* CUERPO PRINCIPAL */
        #viewport { height: calc(100vh - 71px); width: 100%; position: relative; }
        iframe { width: 100%; height: 100%; border: none; background: white; display: none; }
        
        #start-page { height: 100%; display: flex; flex-direction: column; align-items: center; justify-content: center; background: radial-gradient(circle at center, #101015 0%, #050507 100%); }
        .hero-title { font-size: 4.5rem; font-weight: 900; margin-bottom: 30px; letter-spacing: -3px; }

        /* PANEL IA MEJORADO */
        #ai-btn { position: fixed; bottom: 30px; right: 30px; width: 60px; height: 60px; background: var(--main); border-radius: 50%; display: flex; align-items: center; justify-content: center; cursor: pointer; box-shadow: 0 0 25px rgba(0,212,255,0.4); z-index: 2001; font-size: 1.8rem; }
        #ai-window { position: fixed; bottom: 105px; right: 30px; width: 380px; height: 550px; background: #0f0f13; border: 1px solid var(--border); border-radius: 20px; display: none; flex-direction: column; z-index: 2000; box-shadow: 0 15px 40px rgba(0,0,0,0.6); overflow: hidden; }
        .ai-header { background: var(--main); color: black; padding: 15px 20px; font-weight: bold; display: flex; justify-content: space-between; }
        #ai-content { flex: 1; padding: 20px; overflow-y: auto; display: flex; flex-direction: column; gap: 15px; background: #0a0a0c; }
        .msg { padding: 12px 16px; border-radius: 15px; font-size: 0.95rem; line-height: 1.5; max-width: 85%; }
        .msg-ia { background: var(--glass); border: 1px solid var(--border); align-self: flex-start; }
        .msg-user { background: var(--main); color: black; align-self: flex-end; font-weight: 600; }
        .ai-footer { padding: 15px; display: flex; gap: 10px; border-top: 1px solid var(--border); }
        .ai-footer input { flex: 1; background: #1a1a20; border: 1px solid var(--border); padding: 10px; border-radius: 10px; color: white; outline: none; }
        
        /* OCULTAR PUBLICIDAD */
        .gcsc-branding, .gsc-adBlock { display: none !important; }
    </style>
</head>
<body>

<header>
    <div id="logo" onclick="location.reload()">ALEXNAV</div>
    <div class="search-wrap">
        <input type="text" id="main-in" placeholder="Busca en la web o pega una URL..." onkeypress="if(event.key==='Enter') ejecutarNavegacion()">
    </div>
    <div class="nav-tools">
        <button class="t-btn" onclick="location.reload()">âŸ³</button>
        <button class="t-btn" onclick="window.open(document.getElementById('viewer').src || location.href)">â§‰</button>
        <button class="t-btn" onclick="alert('Ajustes AlexNAV: PrÃ³ximamente')">âš™</button>
    </div>
</header>

<div id="viewport">
    <div id="start-page">
        <div class="hero-title">AlexNAV</div>
        <div style="width:100%; max-width:650px;">
            <script async src="https://cse.google.com/cse.js?cx=b3588f8452e4c4301"></script>
            <div class="gcse-search"></div>
        </div>
    </div>
    <iframe id="viewer"></iframe>
</div>

<div id="ai-btn" onclick="abrirIA()">ðŸ¤–</div>
<div id="ai-window">
    <div class="ai-header">AlexNAV Inteligencia <span onclick="abrirIA()" style="cursor:pointer">âœ•</span></div>
    <div id="ai-content">
        <div class="msg msg-ia">Hola Alex. Soy tu IA sin restricciones. Â¿QuÃ© quieres saber hoy?</div>
    </div>
    <div class="ai-footer">
        <input type="text" id="ai-input" placeholder="PregÃºntame cualquier cosa..." onkeypress="if(event.key==='Enter') enviarConsultaIA()">
        <button onclick="enviarConsultaIA()" style="background:var(--main); border:none; border-radius:8px; padding:0 15px; cursor:pointer; font-weight:bold;">ENVIAR</button>
    </div>
</div>

<script src="ia.js"></script>
<script>
    function ejecutarNavegacion() {
        const q = document.getElementById('main-in').value.trim();
        if(!q) return;
        if(q.includes('.') && !q.includes(' ')) {
            const url = q.startsWith('http') ? q : 'https://' + q;
            document.getElementById('start-page').style.display = 'none';
            const f = document.getElementById('viewer');
            f.src = url;
            f.style.display = 'block';
        } else {
            const gIn = document.querySelector('input.gsc-input');
            if(gIn) {
                gIn.value = q;
                document.querySelector('button.gsc-search-button').click();
                document.getElementById('start-page').style.display = 'flex';
            }
        }
    }

    function abrirIA() {
        const w = document.getElementById('ai-window');
        w.style.display = (w.style.display === 'flex') ? 'none' : 'flex';
    }
</script>
</body>
</html>
